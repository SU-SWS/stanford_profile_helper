@charset 'UTF-8';
@import '../config';

//
// Custom Styles For Stanford Page Content Type.
//
.su-page-components {
  div[data-react-columns="12"] {
    &.ptype-stanford-card,
    &.ptype-stanford-wysiwyg,
    &.ptype-stanford-media-caption,
    &.ptype-stanford-cta-list,
    &.ptype-stanford-stories,
    &.ptype-stanford-image-cta,
    &.ptype-stanford-lists,
    &.ptype-stanford-entity {
      max-width: 980px;

      @include grid-media-only('lg') {
        margin-left: auto;
        margin-right: auto;
        max-width: 880px;
      }
    }

    &.ptype-stanford-card {
      img {
        width: 100%;
      }
    }
  }
}

.jumpstart-ui {
  &--three-column,
  &--two-column {

    // Hide secondary navigation on mobile.
    .left-region {
      .menu--main {
        @include grid-media-max('md') {
          display: none;
        }
      }
    }

    // Add some extra space between the main-region and the left-region.
    > .left-region + .main-region {
      @include grid-media('xl') {
        @include padding(null null null 80px);
      }
    }
  }
}

.node-stanford-page-su-page-banner {
  @include modular-spacing('margin-bottom', 4);
}

.ptype-stanford-entity {

  // Make the people referenced entity pictures circles.
  .su-person-photo {
    margin: 0 20px;

    picture,
    img {
      @include margin(30px auto 0);
      border-radius: 50%;
    }
  }

  .su-entity-headline {
    h2 {
      @include margin(0);
    }
  }

  .su-entity-item {
    > div {
      @include modular-spacing('margin-bottom', 4);
    }
  }

  &[data-react-columns="12"] {
    @include grid-media('lg') {
      .su-entity-item {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;

        > div {
          @include margin(0);
          width: calc(33% - 40px);

          &:nth-child(1):nth-last-child(1) {
            width: 100%;
          }

          &:nth-child(1):nth-last-child(2),
          &:nth-child(2):nth-last-child(1) {
            width: calc(50% - 40px);
          }

          &:nth-child(n+4) {
            @include modular-spacing('margin-top', 4);
          }
        }
      }
    }
  }
}

.ptype-stanford-lists {
  .su-list-headline {
    h2 {
      @include margin(0);
      text-align: center;
    }
  }

  .su-list-button {
    display: flex;
    justify-content: center;
  }

  &:not([data-react-columns="12"]) {
    // Views-row for non-grid displays.
    // Views-view-grid has some different markup, so it needs some different work.
    .views-row,
    .views-view-grid .views-row > div {
      width: 100%;
      max-width: 100%;
      flex: none;
      margin-bottom: 2rem;
    }

    .su-news-list__item-date + .su-news-list__item {
      .media {
        margin-top: 0;
      }
    }

    // Stack the date above the title on the events lists.
    .su-event-list-item {
      display: block;
    }

    .su-news-list {
      img,
      picture {
        display: none;
      }
    }
  }
}
