@charset 'UTF-8';
// This stylesheet creates a css file that is attached to the CKEDITOR WYSIWYG.
@import '../../component/paragraph/wysiwyg';

// This extend will duplicate the su-wysiwyg-text styles in to this stylesheet
// and add a secondary set of children selectors under the body tag. This is an
// acceptable amount of bloat for maintaining styles automatically.

@mixin link-icon-before(
  $icon,
  $width: 0.65em,
  $animate: left,
  $vertical: null
) {
  text-decoration: none;
  @supports (mask-repeat: no-repeat) {
    &::before {
      @include margin(null 0.4em $vertical 0.3em);
      @include size($width);
      display: inline-block;
      content: '';
      mask: url('#{$su-image-path}/#{$icon}.svg') no-repeat 0 0;
      mask-size: contain;
      background-color: color(link);
      transition: transform 0.2s ease-in-out, mask-image 0.2s ease-in-out;
    }

    &:hover,
    &:focus {
      &::before {
        background-color: color(link--hover);
        @if $animate == 'left' or $animate == 'true' {
          transform: translateX(-0.2em);
        } @else if $animate == 'down' {
          transform: translateY(0.2em);
        } @else if $animate == 'up' {
          transform: translateY(-0.2em);
        } @else if $animate == 'topleft' {
          transform: translate3d(-0.15em, -0.15em, 0);
        }
      }
    }
  }
}

body {
  @extend .su-wysiwyg-text;

  // Include the mailto icon.
  a[href^='mailto:'] {
    // Text.
    @include link-icon-before(email-24px-bright-blue, 1em);

    &::before {
      font-size: 1em;
      margin-bottom: -0.2em;
    }

    &:hover,
    &:focus,
    &:active {
      &::before {
        background-color: $su-color-black;
      }
    }

    // Buttons.
    &.su-button {
      @include link-icon-before(email-24px-white, 1em);

      &::before {
        background-color: $su-color-white;
      }

      &:hover,
      &:focus,
      &:active {
        &::before {
          background-color: $su-color-white;
        }
      }
    }

    &.su-button--big {
      @include link-icon-before(email-24px-white, 1em);

      &::before {
        background-color: $su-color-white;
        font-size: 1.2em;
        margin-bottom: -0.25em;
      }

      &:hover,
      &:focus,
      &:active {
        &::before {
          background-color: $su-color-white;
        }
      }
    }

    &.su-button--secondary {
      @include link-icon-before(email-24px-bright-red, 1em);

      &::before {
        background-color: $su-color-bright-red;
      }

      &:hover,
      &:focus,
      &:active {
        &::before {
          background-color: $su-color-black;
        }
      }
    }
  }
}
